<?xml version="1.0" encoding="UTF-8"?>
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
        xmlns:p="http://primefaces.org/ui"
        xmlns:ui="http://xmlns.jcp.org/jsf/facelets">
    <!--The Group creation page, check for empty fields, existing groupname, and description length @ yawei-->
    <h:head>
        <title>Group Creation</title>
        <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    </h:head>
    <h:body>
        <h:form>
            <!--replace the plain text labels with I18n property tags later-->
            <!--3 columns, the last column is for the message after the textbox-->
            <!--textarea auto limits number of input characters based on requirement, in this case is the database limit-->
            <p:spacer height="20"/>
            <h2>Group Creation</h2> 
            <h:panelGrid id="groupCreationPanel" columns="3" cellpadding="8">                
                  <h:outputLabel for="groupNameEntry" value="Enter Groupname" />
                  <p:inputText id="groupNameEntry" value="#{groupName}" label="groupNameEntry"  required="true"
                  requiredMessage="Please enter groupname"/>
                  <h:message for="groupNameEntry" style="color: red;"/>                           
                                                 
                  <h:outputLabel for="descriptionEntry" value="Enter Group Description(Max 45 characters):"/>
                  <p:inputTextarea id="descriptionEntry" rows="4" cols="23" counter="counterDisplay" 
                                  value ="#{groupDescription}" required="true" requiredMessage="Description can't be empty"
                    maxlength="45" counterTemplate="characters remaining:{0}." autoResize="false"/>
                 <h:message for="descriptionEntry" style="color: red;"/>
                 <h:panelGroup />
                 <h:outputText id="counterDisplay" />        
                 <h:panelGroup />
                                             
                  <p:commandButton id="updateInfo" value="Create Group" update="groupCreationPanel" 
                                   action="#{GroupsView.addGroup(groupName, groupDescription)}"></p:commandButton>   
                             
                 <!--dialogs for success or failure -->
                <p:dialog header="Can't Create Group" widgetVar="groupFailDlg" minHeight="60">
                   <h:outputText value="Groupname already exists, please choose a different one."/>
                </p:dialog>
        
               <p:dialog header="Group Created" widgetVar="groupSuccessDlg" minHeight="60">
                  <h:outputText value="Success, you have created your own group!"/>
               </p:dialog>               
            </h:panelGrid>           
        </h:form>
    </h:body>
</html>

<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
        xmlns:p="http://primefaces.org/ui"
        xmlns:ui="http://xmlns.jcp.org/jsf/facelets">

<h:head>
    <!--h:outputScript library="primefaces" name="jquery/jquery.js" target="head" /-->
    <!--h:outputScript library="primefaces" name="jquery/jquery-plugin.js" target="head" /-->
    <!--script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.0/jquery.min.js" /-->
    <link rel="stylesheet" type="text/css" href="homepage.css"></link>
</h:head>
    <script>

        $(function() {

                 $('#navigation a').stop().animate({'marginLeft':'-80px'},1000);

                 $('#navigation > li').hover(
                  function () {
                   $('a',$(this)).stop().animate({'marginLeft':'-2px'},200);
                  },
                  function () {
                   $('a',$(this)).stop().animate({'marginLeft':'-80px'},200);
                  }
                 );
                });
    </script>
    
    <script type="text/javascript">
        $(document).ready(function() {
            $('#groupsearch').click(function() {
                $('#mainpage').load("groupSearch.xhtml");
            });
        });    
    </script>
    
    <script type="text/javascript">
        $(document).ready(function() {
            $('#usersearch').click(function() {
                $('#mainpage').load("userSearch.xhtml");
            });
        });    
    </script>
    
    <script type="text/javascript">
        $(document).ready(function() {
            $('#mygroups').click(function() {
                $('#mainpage').load("groupDisplay.xhtml");
            });
        });    
    </script>
    
    <script type="text/javascript">
        function handleLoginRequest(xhr, status, args) {
            if(args.validationFailed || !args.loggedIn) {
                PF('loginDialog').jq.effect("shake", {times:5}, 100);
            }
            else {
                PF('loginDialog').hide();
                $('#loginLink').fadeOut();
            }
        }
    </script>
    
<h:body>

	<nav class="navbar navbar-inverse navbar-fixed-top">
		<DIV class="navbar-border"></DIV>
		<DIV class="navbar-brand"></DIV>
                <ui:debug />
		<h:form>
                    <p:growl id="growl" sticky="false" showDetail="true" life="5000"/>
                    <h:outputLink value="#" onclick="PF('loginDialog').show();" title="Login / Sign-up" class="loginLink">
                        Login / Sign-up
                    </h:outputLink>
                    
                    <p:dialog header="Login" widgetVar="loginDialog" resizable="false">
        		<h:panelGrid columns="2" cellpadding="5">
                            <h:outputLabel for="username" value="Username:" class="nav-text"/>
                            <p:inputText id="username" value="#{username}" required="true" label="username" />
 
                            <h:outputLabel for="password" value="Password:" />
                            <p:password id="password" value="#{password}" required="true" label="password" />
                            <f:facet name="footer">
                                <p:commandButton value="Login" update="growl" actionListener="#{UsersView.userLogin(username, password)}"
                                                 oncomplete="handleLoginRequest(xhr, status, args)"/>
                            </f:facet>  
       			</h:panelGrid>
                    </p:dialog>   		
		</h:form>
	</nav>
	<nav class="sidemenu">
            <ul>
             <li>
                   
                        <span class="nav-text">
                          <H4 class="title fa fa-2x">Dashboard</H4>
                        </span>
                 
                </li>
            <HR/>
                <li>
                    <a href="homepage.xhtml">
                        <img src="images/home.png" height="40px" width="40px" style="margin:10px"/>
                        <span class="nav-text">
                            Home
                        </span>
                    </a>
                  
                </li>
                <li class="has-subnav">
                    <a id="groupsearch" href="#">
                        <img src="images/grpsearch.png" height="40px" width="40px" style="margin:10px"/>
                        <span class="nav-text">
                            Group Search
                        </span>
                    </a>
                    
                </li>
                <li class="has-subnav">
                    <a id="usersearch" href="#">
                       <img src="images/playersearch.jpg" height="40px" width="40px" style="margin:10px"/>
                        <span class="nav-text">
                            Player Search
                        </span>
                    </a>    
                </li>
                <li class="has-subnav">
                    <a id="mygroups" href="#">
                       <img src="images/grpimg.png" height="40px" width="40px" style="margin:10px"/>
                        <span class="nav-text">
                            My Groups
                        </span>
                    </a>
                </li>
            </ul>
        </nav>
		<div class="content" id="mainpage">
		test
		</div>
</h:body>
</html>
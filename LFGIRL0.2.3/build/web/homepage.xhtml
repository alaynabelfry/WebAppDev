<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
        xmlns:p="http://primefaces.org/ui"
        xmlns:ui="http://xmlns.jcp.org/jsf/facelets">

<h:head>
    <meta charset="utf-8"/>
    <!--h:outputScript library="primefaces" name="jquery/jquery.js" target="head" /-->
    <!--h:outputScript library="primefaces" name="jquery/jquery-plugin.js" target="head" /-->
    <!--script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.0/jquery.min.js" /-->
    <link rel="stylesheet" type="text/css" href="homepage.css"></link>
    <title><ui:insert name="title">Welcome to LFGIRL</ui:insert></title>
</h:head>
    <script>

        $(function() {

                 $('#navigation a').stop().animate({'marginLeft':'-80px'},1000);

                 $('#navigation > li').hover(
                  function () {
                   $('a',$(this)).stop().animate({'marginLeft':'-2px'},200);
                  },
                  function () {
                   $('a',$(this)).stop().animate({'marginLeft':'-80px'},200);
                  }
                 );
                });
    </script>
    
    <script type="text/javascript">
        $(document).ready(function() {
            $('#groupsearch').click(function() {
                $('#mainpage').load("groupSearch.xhtml");
            });
        });    
    </script>
    
    <script type="text/javascript">
        $(document).ready(function() {
            $('#usersearch').click(function() {
                $('#mainpage').load("userSearch.xhtml");
            });
        });    
    </script>
    
    <script type="text/javascript">
        $(document).ready(function() {
            $('#mygroups').click(function() {
                $('#mainpage').load("groupDisplay.xhtml");
            });
        });    
    </script>
    
    <script type="text/javascript">
        $(document).ready(function() {
            $('#aboutme').click(function() {
                $('#mainpage').load("aboutme.xhtml");
            });
        });    
    </script>
    
    <!-- this is for the account creation page, remove if not accessing from menu @yawei-->
    <script type="text/javascript">
        $(document).ready(function() {
            $('#accountCreation').click(function() {
                $('#mainpage').load("userCreate.xhtml");
            });
        });    
    </script>
    <!--end of account creation access-->
    
    <!-- this is for the group creation page, remove if not accessing from menu @yawei-->
    <script type="text/javascript">
        $(document).ready(function() {
            $('#groupCreation').click(function() {
                $('#mainpage').load("groupCreate.xhtml");
            });
        });    
    </script>
    <!--end of group creation access-->
    
    <script type="text/javascript">
        function handleLoginRequest(xhr, status, args) {
            if(args.validationFailed || !args.loggedIn) {
                PF('loginDialog').jq.effect("shake", {times:5}, 100);
            }
            else {
                PF('registerDialog').hide();
                PF('loginDialog').hide();
                $('#loginLink').fadeOut();
            }
        }
    </script>
    
    <script type="text/javascript">
        function register() {
            PF('loginDialog').hide();
            PF('registerDialog').show();
        }
    </script>
    
<h:body>

	<nav class="navbar navbar-inverse navbar-fixed-top">
		<DIV class="navbar-border"></DIV>
		<DIV class="navbar-brand"></DIV>
                <ui:debug />
		<h:form>
                    <p:growl id="growl" sticky="false" showDetail="true" life="5000"/>
                    <h:outputLink value="#" onclick="PF('loginDialog').show();" title="Login / Sign-up" class="loginLink">
                        #{msg['login_signUp']} <!--use the msg var defined in face-config to call upon the corresponding text in property file-->
                    </h:outputLink>
                    
                    <p:dialog header="#{msg['loginPanel']}" widgetVar="loginDialog" resizable="false">
        		<h:panelGrid columns="2" cellpadding="5">
                            <h:outputLabel for="loginUsername" value="#{msg['usernameEntry']}" class="nav-text"/>
                            <p:inputText id="loginUsername" value="#{loginUsername}" required="true" label="loginUsername" />
 
                            <h:outputLabel for="loginPassword" value="#{msg['passwordEntry']}" />
                            <p:password id="loginPassword" value="#{loginPassword}" required="true" label="loginPassword" />
                            <f:facet name="footer">
                                <p:commandButton value="#{msg['loginButton']}" update="growl" actionListener="#{LoginBean.userLogin(loginUsername, password)}"
                                                 oncomplete="handleLoginRequest(xhr, status, args)"/>
                                
                                <p:commandButton value="Register" actionListener="#" onclick="register()" />
                            </f:facet>  
       			</h:panelGrid>
                    </p:dialog>
                </h:form>

                <h:form>
                    <p:growl id="growl" sticky="false" showDetail="true" life="5000"/>
                    <p:dialog header="Register" widgetVar="registerDialog" resizable="false">
        		<h:panelGrid columns="2" cellpadding="5">
                            <h:outputLabel for="registerUsername" value="Username:" class="nav-text"/>
                            <p:inputText id="registerUsername" value="#{registerUsername}" required="true" label="registerUsername" />
 
                            <h:outputLabel for="registerPassword" value="Password:" />
                            <p:password id="registerPassword" value="#{registerPassword}" required="true" label="registerPassword" feedback="true"/>
                            
                            <h:outputLabel for="registerConfirm" value="Confirm Password:" />
                            <p:password id="registerConfirm" value="#{registerConfirmation}" required="true" label="registerConfirmation" />
                            
                            <h:outputLabel for="registerEmail" value="Email:" class="nav-text"/>
                            <p:inputText id="registerEmail" value="#{registerEmail}" required="true" label="registeremail" />
                            
                            <f:facet name="footer">
                                <p:commandButton value="Complete Registration" update="growl" actionListener="#{RegisterBean.registerUser(registerUsername, registerPassword, registerEmail)}"
                                                 oncomplete="handleLoginRequest(xhr, status, args)"/>
                            </f:facet>  
       			</h:panelGrid>
                    </p:dialog>  
		</h:form>
                
                <h:form>
                    <!--default locale, from I18nResource.properties -->
                   <h:commandButton action="#{language.changeLanguage('')}" 
                       value="#{msg['englishButton']}"/>
                   <!--Chinese simplified locale, from I18nResource_cn_si.properties -->
                   <h:commandButton action="#{language.changeLanguage('cn_si')}" 
                      value="#{msg['chineseButton']}"/>
                   <!--French locale, from I18nResource_fr.properties -->
                   <h:commandButton action="#{language.changeLanguage('fr')}" 
                      value="#{msg['frenchButton']}"/>
                </h:form>
                
	</nav>
	<nav class="sidemenu">
            <ul>
             <li>
                   
                        <span class="nav-text">
                          <H4 class="title fa fa-2x">#{msg['dashboard']}</H4>
                        </span>
                 
                </li>
            <HR/>
                <li>
                    <a href="homepage.xhtml">
                        <img src="images/home.png" height="40px" width="40px" style="margin:10px"/>
                        <span class="nav-text">
                            #{msg['home']}
                        </span>
                    </a>
                  
                </li>
                <li class="has-subnav">
                    <a id="groupsearch" href="#">
                        <img src="images/grpsearch.png" height="40px" width="40px" style="margin:10px"/>
                        <span class="nav-text">
                            #{msg['groupSearch']}
                        </span>
                    </a>
                    
                </li>
                <li class="has-subnav">
                    <a id="usersearch" href="#">
                       <img src="images/playersearch.jpg" height="40px" width="40px" style="margin:10px"/>
                        <span class="nav-text">
                            #{msg['playerSearch']}
                        </span>
                    </a>    
                </li>
                <li class="has-subnav">
                    <a id="mygroups" href="#">
                       <img src="images/grpimg.png" height="40px" width="40px" style="margin:10px"/>
                        <span class="nav-text">
                            #{msg['myGroups']}
                        </span>
                    </a>
                </li>
                <li class="has-subnav">
                    <a id="aboutme" href="#">
                       <img src="images/playersearch.jpg" height="40px" width="40px" style="margin:10px"/>
                        <span class="nav-text">
                            #{msg['AboutMe']}
                        </span>
                    </a>
                </li>
            
            <!--here is a link for user creation, later on could use signup/login link to access this page @yawei
                -->
                <li class="has-subnav">
                    <a id="accountCreation" href="#">
                       <img src="images/playersearch.jpg" height="40px" width="40px" style="margin:10px"/> <!--right now just reusing old pictures, depends on implementation might need new picture, or not -->
                        <span class="nav-text">
                            Account Creation  <!--add I18N tag if to be kept-->
                        </span>
                    </a>
                </li>
                <!--end of link to user creation  -->
                
                <!--here is a link for group creation page @yawei-->             
                <li class="has-subnav">
                    <a id="groupCreation" href="#">
                       <img src="images/grpsearch.png" height="40px" width="40px" style="margin:10px"/> <!--right now just reusing old pictures, depends on implementation might need new picture, or not -->
                        <span class="nav-text">
                            Group Creation  <!--add I18N tag if to be kept-->
                        </span>
                    </a>
                </li>
                <!--end of link to group creation  -->
            </ul>
        </nav>
		<div class="content" id="mainpage">
		 <ui:insert name="content">test</ui:insert>
		</div>
</h:body>
</html>
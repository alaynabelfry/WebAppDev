<?xml version="1.0" encoding="UTF-8"?>
<!--uses ui:define to add menu template-->
<!--I18N completed as of Mar 7 @yawei @mimi-->
<ui:composition 
    template="homepage.xhtml"
    xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:p="http://primefaces.org/ui">
    
    <ui:define name="title">#{GroupBean.groupName} #{msg.profile}</ui:define>
    <!--<h:head>
        <title>{groupProfile.groupName} Profile</title>
        <link rel="stylesheet" type="text/css" href="homepage.css"></link>
    </h:head>-->
    <ui:define name="content">
        <h:form id="groupProfileForm">
            <h2>#{GroupBean.groupName}</h2>
            <br/>
            #{GroupBean.description}
            <br/>                       
            <!--c:if for condition?-->
            <h:outputLink  rendered="#{GroupBean.isLeader}" value="groupEdit.xhtml">
                <h:outputText value="#{msg.Edit}"/>
                <f:param name="gid" value="#{GroupBean.gid}"/>
            </h:outputLink>
             <br/> 
             <!--join a group @yawei-->
            <p:commandButton id="joinCommandButton"              
                value="#{msg.joinGroupButton}" rendered= "#{GroupBean.canJoinGroup()}" actionListener="#{GroupBean.joinGroup()}" update="groupProfileForm">             
            </p:commandButton> 
             
             <!--leave a group @yawei-->
            <p:commandButton id="leaveCommandButton"              
                value="#{msg.leaveGroupButton}" rendered= "#{GroupBean.canLeaveGroup()}" actionListener="#{GroupBean.removeMember()}" update="groupProfileForm">
                <p:confirm header="#{msg.leaveGroupDlgHeader}" message="#{msg.leaveGroupDlgMessage}" icon="ui-icon-alert" />
            </p:commandButton>  
             
             <!--confirmation for leaving the group @yawei-->
             <p:confirmDialog global="true" showEffect="fade" hideEffect="fade">
                 <p:commandButton value="#{msg.yesButton}" type="button" styleClass="ui-confirmdialog-yes" icon="ui-icon-check" />
                 <p:commandButton value="#{msg.noButton}" type="button" styleClass="ui-confirmdialog-no" icon="ui-icon-close" />
             </p:confirmDialog>         
             <!--dialogs for join failure @yawei-->        
             <p:dialog header="#{msg.groupErrorDlgHeader}" widgetVar="groupFailDlg" minHeight="60">
                 <h:outputText value="#{msg.groupErrorDlgMessage}"/>
            </p:dialog>                     
        </h:form>
    </ui:define>
</ui:composition>

